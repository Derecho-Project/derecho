name: Build Check
run-name: ${{ github.actor }} is running build check.
on:  [push]
jobs:
  Placeholder:
    runs-on: ubuntu-latest
    steps:
      - run:  echo "The job is automatically triggered by a ${{ github.event_name }} event."
      - run:  sudo apt update; sudo apt install libssl-dev librdmacm-dev libibverbs-dev libspdlog-dev -y
      - run:  g++ --version
      - run:  cmake --version 
      - run:  lscpu
      - run:  df -ha
      - run:  cat /proc/meminfo
      - name: Checkout repository code
        uses: actions/checkout@v3
      - run: echo "The ${{ github.repository }} repository has been cloned to the runner."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - name: Install libfabric
        run:  ${{ github.workspace }}/scripts/prerequisite/install-libfabric.sh ${{ github.repository }}/opt
      - name: Install json library
        run:  ${{ github.workspace }}/scripts/prerequisite/install-json.sh ${{ github.repository }}/opt
      - name: Install mutils
        run:  ${{ github.workspace }}/scripts/prerequisite/install-mutils.sh ${{ github.workspace }}/opt
      - name: Install mutils-containers
        run:  ${{ github.workspace }}/scripts/prerequisite/install-mutils-containers.sh ${{ github.workspace }}/opt
      - run:  export PREFIX=${{ github.workspace }}/opt
      - run:  export CMAKE_PREFIX_PATH=$PREFIX
      - run:  export C_INCLUDE_PATH=$PREFIX/include/
      - run:  export CPLUS_INCLUDE_PATH=$PREFIX/include/
      - run:  export LIBRARY_PATH=$PREFIX/lib/:$PREFIX/lib64/
      - run:  export LD_LIBRARY_PATH=$PREFIX/lib/:$PREFIX/lib64/
      - run:  cd ${{ github.workspace }}
      - run:  mkdir build-Release
      - run:  echo "The job's status is ${{ job.status }}."
